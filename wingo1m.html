<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>Wingo 1M</title>
  <style>
    * { box-sizing: border-box; margin:0; padding:0; font-family:'Inter', sans-serif; }
    body { background-color:#0d1b4c; color:#fff; display:flex; flex-direction:column; min-height:100vh;}
    .header { padding:15px; text-align:center; font-size:1.5rem; background:#0a1440;}
    .timer-box { display:flex; justify-content:space-between; background:#1c2e8e; padding:15px 20px; font-size:1.2rem; margin:15px; border-radius:10px;}
    .label { font-weight:600; color:#bfcfff; }
    .main { flex:1; padding:0 20px;}
    .bet-grid { display:grid; grid-template-columns: repeat(5,1fr); gap:12px; margin:20px 0;}
    .bet-btn { padding:15px; font-size:1.2rem; border:none; border-radius:8px; cursor:pointer; color:#fff; box-shadow:0 2px 5px rgba(0,0,0,0.3);}
    .color-red { background:#E74C3C; }
    .color-green { background:#2ECC71; }
    .color-violet { background:#8E44AD; }
    .specials { display:flex; gap:12px; justify-content:center; margin-bottom:20px;}
    .special-btn { flex:1; padding:12px; font-size:1.1rem; border:none; border-radius:8px; cursor:pointer; color:#fff; background:#34495E; }
    .chips { display:flex; gap:10px; justify-content:center; margin-bottom:20px;}
    .chip { padding:8px 16px; border-radius:20px; border:1px solid #bfcfff; cursor:pointer; color:#bfcfff; }
    .chip.active { background:#00ffe1; color:#000; border:none; }
    .bet-control { display:flex; gap:10px; justify-content:center; align-items:center; margin-bottom:20px;}
    .bet-control button { padding:8px 14px; font-size:1rem; border:none; border-radius:6px; cursor:pointer;}
    .bet-control input { width:60px; text-align:center; font-size:1rem; padding:6px; border-radius:6px; border:none;}
    .place-btn { width:100%; padding:14px; font-size:1.2rem; background:#00ffe1; color:#000; border:none; border-radius:8px; cursor:pointer; margin-bottom:20px;}
    .history, .result-history { background:#1c2e8e; border-radius:10px; padding:15px; margin-bottom:20px;}
    .history-item { display:flex; justify-content:space-between; padding:8px 0; border-bottom:1px solid #34495E;}
    .history-item:last-child { border-bottom:none; }
    .status-win { color:#2ECC71; font-weight:600;}
    .status-loss { color:#E74C3C; font-weight:600;}
    .footer { background:#0a1440; display:flex; justify-content:space-around; padding:10px 0; position:sticky; bottom:0;}
    .footer-item { text-align:center; color:#bfcfff; font-size:13px; cursor:pointer; }
    .footer-item.active { color:#00ffe1; }
  </style>
</head>
<body>

<div class="header">Wingo 1M</div>

<div class="timer-box">
  <div><span class="label">Period:</span> <span id="period1m">Loading...</span></div>
  <div><span class="label">Timer:</span> <span id="timer1m">00:00</span></div>
</div>

<div class="main">

  <div class="specials">
    <button class="special-btn" data-type="BIG">Big</button>
    <button class="special-btn" data-type="SMALL">Small</button>
    <button class="special-btn" data-type="RED">Red</button>
    <button class="special-btn" data-type="GREEN">Green</button>
    <button class="special-btn" data-type="VIOLET">Violet</button>
  </div>

  <div class="bet-grid">
    <button class="bet-btn color-violet" data-number="0">0</button>
    <button class="bet-btn color-green" data-number="1">1</button>
    <button class="bet-btn color-red" data-number="2">2</button>
    <button class="bet-btn color-green" data-number="3">3</button>
    <button class="bet-btn color-red" data-number="4">4</button>
    <button class="bet-btn color-violet" data-number="5">5</button>
    <button class="bet-btn color-red" data-number="6">6</button>
    <button class="bet-btn color-green" data-number="7">7</button>
    <button class="bet-btn color-red" data-number="8">8</button>
    <button class="bet-btn color-green" data-number="9">9</button>
  </div>

  <div class="chips">
    <div class="chip" data-value="1">₹1</div>
    <div class="chip" data-value="5">₹5</div>
    <div class="chip" data-value="10">₹10</div>
    <div class="chip" data-value="100">₹100</div>
  </div>

  <div class="bet-control">
    <button id="dec">–</button>
    <input type="number" id="betInput" value="1" min="1"/>
    <button id="inc">+</button>
  </div>

  <button class="place-btn">Place Bet</button>

  <div class="history">
    <h3>Bet History</h3>
  </div>

  <div class="result-history">
    <h3>Result History</h3>
  </div>

</div>

<div class="footer">
  <div class="footer-item active">Home</div>
  <div class="footer-item">Profile</div>
</div>

<script>
  // Timer + Period logic
  const periodEl = document.getElementById('period1m'),
        timerEl = document.getElementById('timer1m'),
        historyEl = document.querySelector('.history'),
        resultEl = document.querySelector('.result-history'),
        placeBtn = document.querySelector('.place-btn'),
        chips = document.querySelectorAll('.chip'),
        betInput = document.getElementById('betInput'),
        dec = document.getElementById('dec'),
        inc = document.getElementById('inc'),
        numberBtns = document.querySelectorAll('.bet-btn'),
        specialBtns = document.querySelectorAll('.special-btn');

  let wallet = 100; // starting balance
  let currentBet = { type:null, amount:1 };
  let betHistory = [], resultHistory = [];

  function updateTimer() {
    const now = new Date();
    const sec = now.getUTCSeconds();
    const min = now.getUTCMinutes();
    const rem = 60 - sec;
    const totalMin = now.getUTCHours()*60 + min;
    const dateStr = now.getUTCFullYear().toString()
      + String(now.getUTCMonth()+1).padStart(2,'0')
      + String(now.getUTCDate()).padStart(2,'0');
    periodEl.textContent = dateStr + '1000' + (10001 + totalMin);
    timerEl.textContent = `00 : ${String(rem).padStart(2,'0')}`;
  }

  setInterval(updateTimer,1000);
  updateTimer();

  // Bet amount control
  dec.onclick = ()=>{ if (betInput.value > 1) betInput.value--; };
  inc.onclick = ()=> betInput.value++;

  chips.forEach(c=>{
    c.onclick=()=> {
      chips.forEach(x=>x.classList.remove('active'));
      c.classList.add('active');
      betInput.value = c.dataset.value;
    };
  });

  numberBtns.forEach(btn=>{
    btn.onclick=()=> {
      specialBtns.forEach(x=>x.classList.remove('active'));
      numberBtns.forEach(x=>x.classList.remove('active'));
      btn.classList.add('active');
      currentBet = { type:'NUMBER', value:btn.dataset.number };
    };
  });

  specialBtns.forEach(btn=>{
    btn.onclick=()=>{
      numberBtns.forEach(x=>x.classList.remove('active'));
      specialBtns.forEach(x=>x.classList.remove('active'));
      btn.classList.add('active');
      currentBet = { type:btn.dataset.type };
    };
  });

  function calculateColor(num){
    if(num==0||num==5) return 'VIOLET';
    return [1,3,7,9].includes(num) ? 'GREEN' : 'RED';
  }

  function calculateWin(bet, resultNumber){
    const resColor = calculateColor(resultNumber);
    if(bet.type==='NUMBER'){
      return bet.value==resultNumber 
        ? bet.amount * 8.84 
        : -bet.amount;
    }
    if(bet.type==='VIOLET'){
      return resColor==='VIOLET' 
        ? bet.amount * 3 
        : -bet.amount;
    }
    if(['RED','GREEN'].includes(bet.type)){
      return bet.type===resColor 
        ? bet.amount * 0.96 
        : -bet.amount;
    }
    if(['BIG','SMALL'].includes(bet.type)){
      const isBig = resultNumber>=5;
      const isSmall = resultNumber<=4;
      if((bet.type==='BIG' && isBig) || (bet.type==='SMALL' && isSmall)){
        return bet.amount * 0.96;
      }
      return -bet.amount;
    }
    return -bet.amount;
  }

  placeBtn.onclick = ()=>{
    const betVal = parseFloat(betInput.value);
    if(betVal < 1) return alert('Minimum ₹1 required.');
    if(betVal > wallet) return alert('Insufficient balance.');
    if(!currentBet.type) return alert('Select number or color.');

    wallet -= betVal;
    const period = periodEl.textContent;
    const resultNum = Math.floor(Math.random()*10);
    const winAmount = calculateWin({...currentBet, amount:betVal}, resultNum);
    wallet += winAmount >= 0 ? winAmount : 0;

    const status = winAmount >= 0 ? '✅ Win' : '❌ Loss';
    betHistory.unshift({period, bet:currentBet, amount:betVal, status, result:resultNum});
    resultHistory.unshift({period, num:resultNum, color:calculateColor(resultNum)});

    renderHistory(); renderResults();
  };

  function renderHistory(){
    historyEl.innerHTML = '<h3>Bet History</h3>';
    betHistory.forEach(obj=>{
      const div = document.createElement('div');
      div.className = 'history-item';
      div.innerHTML = `
        <div>${obj.period}</div>
        <div>${obj.bet.type==='NUMBER'? obj.bet.value : obj.bet.type}</div>
        <div>₹${obj.amount}</div>
        <div class="${obj.status==='✅ Win'?'status-win':'status-loss'}">${obj.status}</div>
        <div>${obj.result} (${calculateColor(obj.result)})</div>
      `;
      historyEl.appendChild(div);
    });
  }

  function renderResults(){
    resultEl.innerHTML = '<h3>Result History</h3>';
    resultHistory.slice(0,7).forEach(obj=>{
      const div = document.createElement('div');
      div.style.display='inline-block'; div.style.margin='0 4px';
      div.innerHTML = `<span style="padding:6px 10px; border-radius:50%; background:${obj.color==='RED'?'#E74C3C':obj.color==='GREEN'?'#2ECC71':'#8E44AD'}">`;
      div.innerHTML += `${obj.num}</span>`;
      resultEl.appendChild(div);
    });
  }

</script>

</body>
  </html>
